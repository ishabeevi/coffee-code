{% extends "base.html" %}
{% block title %}Notifications â€“ LifeLink{% endblock %}

{% block content %}
<div class="page-header">
    <h2>ðŸ”” Your Notifications</h2>
    <p class="sub">Stay updated on blood requests and community activities</p>
</div>

{% if notifications %}
<div class="match-list">
    {% for notif in notifications %}
    <div class="match-card {% if not notif.is_read %}unread-notif{% endif %}"
        style="border-left: 5px solid {% if not notif.is_read %}var(--rose){% else %}var(--border){% endif %}; transition: transform 0.2s;">
        <div class="match-avatar">
            {% if not notif.is_read %}âœ¨{% else %}ðŸ””{% endif %}
        </div>
        <div class="match-info">
            <div class="match-name">{{ notif.message }}</div>
            <div class="match-status" style="color: var(--muted);">
                {{ notif.created_at.strftime('%Y-%m-%d %H:%M') }}
            </div>
        </div>
        <div class="match-action">
            {% if notif.req_id %}
            {% if notif.is_read %}
            <a href="/match/{{ notif.req_id }}" class="btn-secondary">View Request</a>
            {% else %}
            <a href="/notifications/read/{{ notif.id }}" class="btn-primary">Mark as Read & View</a>
            {% endif %}
            {% else %}
            {% if not notif.is_read %}
            <a href="/notifications/read/{{ notif.id }}" class="btn-primary">Mark as Read</a>
            {% endif %}
            {% endif %}
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<div class="empty-state">
    <div class="empty-icon">ðŸ””</div>
    <h3>No notifications yet</h3>
    <p>You'll be notified when a compatible blood request is posted in your area.</p>
    <a href="/" class="btn-primary">Back to Home</a>
</div>
{% endif %}
{% endblock %}